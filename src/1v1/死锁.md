锁是个非常有用的工具，运用场景非常多，因为它使用起来非常简单，而且易于理解。但同时它也会带来一些困扰，那就是可能会引起死锁，一旦产生死锁，就会造成系统功能不可用。

死锁的根本原因：

1. 是多个线程涉及到多个锁，这些锁存在着交叉，所以可能会导致了一个锁依赖的闭环；
2. 默认的锁申请操作是阻塞的。

**产生死锁的四个必要条件**

1.互斥条件：一个资源每次只能被一个进程使用

2.请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放

3.不剥夺条件：进程已获得的资源，在未使用完之前，不能强行剥夺

4.循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系

这4个条件是死锁的必要条件，只要系统发生死锁，这些条件必然成立。上述条件若有一个不满足，则不会发生死锁。

